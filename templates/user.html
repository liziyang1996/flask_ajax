<script>
    function checkUser() {
        var req = new XMLHttpRequest()
        req.open('post', 'check', true)
        req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        req.send("username="+username.value);
        req.onload = function () {
            var jsonobj = JSON.parse(req.responseText)
            // alert(jsonobj.flag)
            if (jsonobj.flag == 1)
            {
                msg.innerText="用户已存在"
            }
            else
            {
                msg.innerText="用户名可以注册"
            }
        }

        
    }
</script>

<body>

用户注册
<form method="" action="">
    用户名：<input type="text" id="username" name="username" onblur="checkUser()">
    <span id="msg">

    </span>
    密码：<input type="text" name="pwd">
    <input type="submit">
</form>

</body>